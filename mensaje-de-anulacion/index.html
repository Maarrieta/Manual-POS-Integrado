<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Mensaje de Anulación - POS Integrado</title>
        <meta
            name="description"
            content=" Esta transacción siempre será responsabilidad de la caja y es quien decide cuando realizar una anulación. Las anulaciones sólo pueden realizarse para transacciones que aún se encuentren en la memoria del POS. Las transacciones realizadas con tarjetas Maestro no permiten la anulación. El comando&hellip;"
        />
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />
        <link rel="canonical" href="./../mensaje-de-anulacion/" />
        <style>
            :root {
                --body-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
                --heading-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
                --logo-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
                --menu-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            }
        </style>
        <link rel="stylesheet" href="./../assets/css/style.css?v=1d9126d5c592483966037cf187b30969" />
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "Article",
                "mainEntityOfPage": { "@type": "WebPage", "@id": "./../mensaje-de-anulacion/" },
                "headline": "Mensaje de Anulación",
                "datePublished": "2021-01-05T12:34",
                "dateModified": "2021-01-06T11:40",
                "description": " Esta transacción siempre será responsabilidad de la caja y es quien decide cuando realizar una anulación. Las anulaciones sólo pueden realizarse para transacciones que aún se encuentren en la memoria del POS. Las transacciones realizadas con tarjetas Maestro no permiten la anulación. El comando&hellip;",
                "author": { "@type": "Person", "name": "Multicaja S.A" },
                "publisher": { "@type": "Organization", "name": "Multicaja S.A" }
            }
        </script>
    </head>
    <body>
        <div class="site-container">
            <header class="top" id="js-header">
			   <a class="logo" href="http://www.multicaja.cl" target="_blank"><img src="../media/files/MC_actual.png" alt="logo"></a>
				<nav class="navbar js-navbar">
				    <button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false">
					    <span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span>
					</button>
					<ul class="navbar__menu">
					    <li><a href="./../index.html" target="_self">Inicio</a></li>
						<li><a href="./../pos-integrado/index.html" title="Protocolo " target="_self">Protocolo de Comunicación</a></li>
						<li class="active">
						    <a href="./../operacion-y-configuracion-del-pos-2/index.html" target="_self">Operación y configuración del POS</a></li>
					    <li class="has-submenu">
					        <a href="./../" target="_self" aria-haspopup="true">Mensajes</a>
						    <ul class="navbar__submenu level-2" aria-hidden="true">
						        <li><a href="./../mensajes/index.html" target="_self">Mensaje de Venta</a></li>
							    <li><a href="./../mensaje-2/index.html" target="_self">Mensaje de Última Venta</a></li>
							    <li><a href="./../mensaje-de-anulacion/index.html" target="_self">Mensaje de Anulación</a></li>
							    <li><a href="./../mensaje-de-cierre/index.html" target="_self">Mensaje de Cierre</a></li>
							    <li><a href="./../mensaje-de-totales/index.html" target="_self">Mensaje de Totales</a></li>
							    <li><a href="./../mensaje-detalle-de-ventas/index.html" target="_self">Mensaje de Detalle de Ventas</a></li>
							    <li><a href="./../mensaje-de-poll/index.html" target="_self">Mensaje de Poll</a></li>
								<li><a href="./../mensaje-de-carga-de-llaves/index.html" target="_self">Mensaje de Carga de Llaves</a></li>
							    <li><a href="./../mensaje-de-cambio-a-pos-normal/index.html" target="_self">Mensaje de Cambio a POS Normal</a></li>
						    </ul>
			            </li>
					    <li><a href="./../tabla-de-respuestas/index.html" target="_self">Tabla de respuestas</a></li>
				    </ul>
			    </nav>
		    </header>
            <main>
                <article class="post">
                    <div class="hero">
                        <header class="hero__content">
                            <div class="wrapper"><h1>Mensaje de Anulación</h1></div>
                        </header>
                    </div>
                    <div class="wrapper post__entry">
                        <p>Esta transacción siempre será responsabilidad de la caja y es quien decide cuando realizar una anulación.</p>
                        <p class="msg msg--warning">Las anulaciones sólo pueden realizarse para transacciones que aún se encuentren en la memoria del POS. Las transacciones realizadas con tarjetas Maestro no permiten la anulación.</p>
                        <p>El comando de anulación soporta los siguientes parámetros que pueden ser enviados desde la caja.</p>
                        <p class="msg msg--info"><strong>Número de operación: </strong>es el correlativo impreso en el voucher de venta. Este número le indicará al POS la transacción en memoria que se desea anular.</p>
                        <p>
                            Como respuesta el <strong>POS </strong>enviará un código de aprobación, acompañado de un código de autorización. En caso de rechazo el código de error está definido en la tabla de respuestas.
                            <a href="./../tabla-de-respuestas/index.html">Ver tabla de respuestas<mark></mark></a>
                        </p>
                        <figure class="post__image post__image--center">
                            <img
                                loading="lazy"
                                src="./../media/posts/7/Anulacion.png"
                                sizes="(max-width: 48em) 100vw, 768px"
                                srcset="
                                    ./../media/posts/7/responsive/Anulacion-xs.png   300w,
                                    ./../media/posts/7/responsive/Anulacion-sm.png   480w,
                                    ./../media/posts/7/responsive/Anulacion-md.png   768w,
                                    ./../media/posts/7/responsive/Anulacion-lg.png  1024w,
                                    ./../media/posts/7/responsive/Anulacion-xl.png  1360w,
                                    ./../media/posts/7/responsive/Anulacion-2xl.png 1600w
                                "
                                height="904"
                                width="1383"
                                alt=""
                            />
                        </figure>
                        <ol>
                            <li>
                                La caja envía el requerimiento y espera como respuesta <code>&lt;ACK&gt;/&lt;NAK&gt;</code>
                                <ack>
                                    <nak>
                                        , en caso de que llegue un <code>&lt;NAK&gt;</code>&nbsp;
                                        <nak>, debe reintentar el envío del requerimiento 2 veces más. Si recibe un <code>&lt;ACK&gt;</code><ack>&nbsp;debe esperar la respuesta de la transacción.</ack></nak>
                                    </nak>
                                </ack>
                            </li>
                            <li>
                                El <strong>POS</strong> envía el requerimiento al autorizador, en caso de ser aprobada se guarda en batch y se envía la respuesta a la caja. En el caso de ser rechazada se envía la respuesta a la caja
                                indicando el error.
                            </li>
                            <li>
                                La caja al recibir la respuesta envía un <code>&lt;ACK&gt;</code>&nbsp;
                                <ack>
                                    si el mensaje está correcto, o un <code>&lt;NAK&gt;</code>&nbsp;<nak>para el caso en que el <code>&lt;LRC&gt;</code>&nbsp;<lrc>no corresponda.</lrc></nak>
                                </ack>
                            </li>
                            <li>
                                El <strong>POS</strong> al recibir el &lt;ACK&gt;
                                <ack>
                                    &nbsp;vuelve al inicio a la espera de un nuevo comando, para el caso que reciba un &lt;NAK&gt;
                                    <nak>&nbsp;o no reciba ninguna validación dentro de los próximos 10 segundos; vuelve a enviar la respuesta. Esto lo repetirá 2 veces más.</nak>
                                </ack>
                            </li>
                        </ol>
                        <h4 id="solicitud-de-anulacin">Solicitud de Anulación</h4>
                        <h6
                            id="nbsp-nbspdatonbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-largonbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbspcomentario"
                        >
                            &nbsp; &nbsp;DATO&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LARGO&nbsp; &nbsp; &nbsp; &nbsp;
                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;COMENTARIO
                        </h6>
                        <figure class="post__image post__image--center">
                            <img
                                loading="lazy"
                                src="./../media/posts/7/Tabla-Anulacion-2.png"
                                sizes="(max-width: 48em) 100vw, 768px"
                                srcset="
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-xs.png   300w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-sm.png   480w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-md.png   768w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-lg.png  1024w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-xl.png  1360w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-2-2xl.png 1600w
                                "
                                height="531"
                                width="1064"
                                alt=""
                            />
                        </figure>
                        <p>
                            Mensaje en ASCII: <code>&lt;STX&gt;<stx>1200|10|&lt;ETX&gt;&lt;LRC&gt;</stx></code>
                            <stx>
                                <etx>
                                    <lrc>
                                        <br />
                                        <br />
                                        Mensaje en Hexadecimal: <code>{0x02, 0x31, 0x32, 0x30, 0x30, 0x7c, 0x31, 0x30, 0x7c, 0x03, 0x01}</code>
                                    </lrc>
                                </etx>
                            </stx>
                        </p>
                        <h4 id="respuesta-de-anulacin">Respuesta de Anulación</h4>
                        <h6
                            id="nbsp-datonbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-largonbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-comentario"
                        >
                            &nbsp; DATO&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LARGO&nbsp; &nbsp; &nbsp; &nbsp;
                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMENTARIO
                        </h6>
                        <figure class="post__image post__image--center">
                            <img
                                loading="lazy"
                                src="./../media/posts/7/Tabla-Anulacion-resp-2.png"
                                sizes="(max-width: 48em) 100vw, 768px"
                                srcset="
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-xs.png   300w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-sm.png   480w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-md.png   768w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-lg.png  1024w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-xl.png  1360w,
                                    ./../media/posts/7/responsive/Tabla-Anulacion-resp-2-2xl.png 1600w
                                "
                                height="924"
                                width="1064"
                                alt=""
                            />
                        </figure>
                    </div>
                </article>
                <nav class="post__nav">
                    <div class="post__nav-inner">
                        <div class="post__nav-prev">
                            <svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="./../assets/svg/svg-map.svg#arrow-prev" /></svg>
                            <a href="./../mensaje-2/index.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Mensaje de Última Venta</a>
                        </div>
                        <div class="post__nav-next">
                            <a href="./../mensaje-de-cierre/index.html" class="invert post__nav-link" rel="next"><span>Next</span> Mensaje de Cierre </a>
                            <svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="./../assets/svg/svg-map.svg#arrow-next" /></svg>
                        </div>
                    </div>
                </nav>
            </main>
            <footer class="footer">
                <div class="footer__copyright">
                    <p class="align-center">Documentación de Integración</p>
                    <p class="align-center">Multicaja S.A</p>
                </div>
                <button class="footer__bttop js-footer__bttop" aria-label="Back to top">
                    <svg>
                        <title>Back to top</title>
                        <use xlink:href="./../assets/svg/svg-map.svg#toparrow" />
                    </svg>
                </button>
            </footer>
        </div>
        <script>
            window.publiiThemeMenuConfig = {
                mobileMenuMode: "sidebar",
                animationSpeed: 300,
                submenuWidth: "auto",
                doubleClickTime: 500,
                mobileMenuExpandableSubmenus: true,
                relatedContainerForOverlayMenuSelector: ".top",
            };
        </script>
        <script defer="defer" src="./../assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script>
        <script>
            var images = document.querySelectorAll("img[loading]");

            for (var i = 0; i < images.length; i++) {
                if (images[i].complete) {
                    images[i].classList.add("is-loaded");
                } else {
                    images[i].addEventListener(
                        "load",
                        function () {
                            this.classList.add("is-loaded");
                        },
                        false
                    );
                }
            }
        </script>
    </body>
</html>
